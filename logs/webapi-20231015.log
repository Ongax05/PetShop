[2023-10-15 15:42:52.842 -05:00 INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='PetShop' AND TABLE_NAME='__EFMigrationsHistory';
[2023-10-15 15:42:52.888 -05:00 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='PetShop' AND TABLE_NAME='__EFMigrationsHistory';
[2023-10-15 15:42:52.917 -05:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
[2023-10-15 15:42:52.935 -05:00 INF] No migrations were applied. The database is already up to date.
[2023-10-15 15:42:53.054 -05:00 INF] User profile is available. Using 'C:\Users\jhose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2023-10-15 15:42:53.117 -05:00 INF] Now listening on: http://localhost:5181
[2023-10-15 15:42:53.119 -05:00 INF] Application started. Press Ctrl+C to shut down.
[2023-10-15 15:42:53.119 -05:00 INF] Hosting environment: Development
[2023-10-15 15:42:53.119 -05:00 INF] Content root path: C:\Users\jhose\OneDrive\Escritorio\PetShop\API
[2023-10-15 16:00:32.689 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 101
[2023-10-15 16:00:32.727 -05:00 WRN] Failed to determine the https port for redirect.
[2023-10-15 16:00:32.789 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:00:32.808 -05:00 INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.Entities.Appointment]] Post(API.Dtos.AppointmentDto) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:00:32.915 -05:00 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2023-10-15 16:00:32.925 -05:00 INF] Executed action API.Controllers.AppointmentController.Post (API) in 113.9999ms
[2023-10-15 16:00:32.925 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:00:32.926 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 101 - 400 - application/problem+json;+charset=utf-8 240.6775ms
[2023-10-15 16:01:36.044 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 112
[2023-10-15 16:01:36.048 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:01:36.048 -05:00 INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.Entities.Appointment]] Post(API.Dtos.AppointmentDto) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:01:36.053 -05:00 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2023-10-15 16:01:36.054 -05:00 INF] Executed action API.Controllers.AppointmentController.Post (API) in 5.7939ms
[2023-10-15 16:01:36.054 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:01:36.054 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 112 - 400 - application/problem+json;+charset=utf-8 10.3063ms
[2023-10-15 16:01:43.863 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 110
[2023-10-15 16:01:43.867 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:01:43.867 -05:00 INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.Entities.Appointment]] Post(API.Dtos.AppointmentDto) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:01:43.873 -05:00 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2023-10-15 16:01:43.874 -05:00 INF] Executed action API.Controllers.AppointmentController.Post (API) in 6.2883ms
[2023-10-15 16:01:43.874 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:01:43.874 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 110 - 400 - application/problem+json;+charset=utf-8 11.6230ms
[2023-10-15 16:02:06.994 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 112
[2023-10-15 16:02:06.996 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:02:06.996 -05:00 INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.Entities.Appointment]] Post(API.Dtos.AppointmentDto) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:02:07.247 -05:00 INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Appointment` (`Date`, `PetId`, `Reason`, `VeterinarianId`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `Id`
FROM `Appointment`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
[2023-10-15 16:02:07.291 -05:00 INF] Executing CreatedAtActionResult, writing value of type 'API.Dtos.AppointmentDto'.
[2023-10-15 16:02:07.323 -05:00 INF] Executed action API.Controllers.AppointmentController.Post (API) in 326.7648ms
[2023-10-15 16:02:07.323 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:02:07.325 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 112 - 201 - application/json;+charset=utf-8 331.4329ms
[2023-10-15 16:06:54.445 -05:00 INF] Request starting HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112
[2023-10-15 16:06:54.452 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:06:54.464 -05:00 INF] Route matched with {action = "Get", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Helpers.Pager`1[API.Dtos.AppointmentDto]]] Get(API.Helpers.Params) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:06:54.674 -05:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Appointment` AS `a`
[2023-10-15 16:06:54.690 -05:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2023-10-15 16:06:54.691 -05:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2023-10-15 16:06:54.725 -05:00 INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`Date`, `a`.`PetId`, `a`.`Reason`, `a`.`VeterinarianId`
FROM `Appointment` AS `a`
LIMIT @__p_1 OFFSET @__p_0
[2023-10-15 16:06:54.748 -05:00 INF] Executing ObjectResult, writing value of type 'API.Helpers.Pager`1[[API.Dtos.AppointmentDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-15 16:06:54.761 -05:00 INF] Executed action API.Controllers.AppointmentController.Get (API) in 297.4391ms
[2023-10-15 16:06:54.762 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:06:54.763 -05:00 INF] Request finished HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112 - 200 - application/json;+charset=utf-8 317.8292ms
[2023-10-15 16:11:23.900 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 112
[2023-10-15 16:11:23.901 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:11:23.902 -05:00 INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.Entities.Appointment]] Post(API.Dtos.AppointmentDto) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:11:23.937 -05:00 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Appointment` (`Date`, `PetId`, `Reason`, `VeterinarianId`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `Id`
FROM `Appointment`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
[2023-10-15 16:11:23.941 -05:00 INF] Executing CreatedAtActionResult, writing value of type 'API.Dtos.AppointmentDto'.
[2023-10-15 16:11:23.942 -05:00 INF] Executed action API.Controllers.AppointmentController.Post (API) in 40.0484ms
[2023-10-15 16:11:23.942 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Post (API)'
[2023-10-15 16:11:23.942 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/Appointment application/json 112 - 201 - application/json;+charset=utf-8 41.7262ms
[2023-10-15 16:13:40.784 -05:00 INF] Request starting HTTP/1.1 PUT http://localhost:5181/api/Appointment/1 application/json 128
[2023-10-15 16:13:40.787 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Put (API)'
[2023-10-15 16:13:40.790 -05:00 INF] Route matched with {action = "Put", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AppointmentDto]] Put(Int32, API.Dtos.AppointmentDto) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:13:40.807 -05:00 INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Appointment` SET `Date` = @p0, `PetId` = @p1, `Reason` = @p2, `VeterinarianId` = @p3
WHERE `Id` = @p4;
SELECT ROW_COUNT();
[2023-10-15 16:13:40.810 -05:00 INF] Executing ObjectResult, writing value of type 'API.Dtos.AppointmentDto'.
[2023-10-15 16:13:40.810 -05:00 INF] Executed action API.Controllers.AppointmentController.Put (API) in 19.3338ms
[2023-10-15 16:13:40.810 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Put (API)'
[2023-10-15 16:13:40.810 -05:00 INF] Request finished HTTP/1.1 PUT http://localhost:5181/api/Appointment/1 application/json 128 - 200 - application/json;+charset=utf-8 25.6817ms
[2023-10-15 16:18:51.862 -05:00 INF] Request starting HTTP/1.1 DELETE http://localhost:5181/api/Appointment/1 - -
[2023-10-15 16:18:51.863 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Delete (API)'
[2023-10-15 16:18:51.866 -05:00 INF] Route matched with {action = "Delete", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Delete(Int32) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:18:51.927 -05:00 INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`Date`, `a`.`PetId`, `a`.`Reason`, `a`.`VeterinarianId`
FROM `Appointment` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
[2023-10-15 16:18:51.941 -05:00 INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Appointment`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
[2023-10-15 16:18:51.949 -05:00 INF] Executing StatusCodeResult, setting HTTP status code 204
[2023-10-15 16:18:51.949 -05:00 INF] Executed action API.Controllers.AppointmentController.Delete (API) in 83.1824ms
[2023-10-15 16:18:51.949 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Delete (API)'
[2023-10-15 16:18:51.950 -05:00 INF] Request finished HTTP/1.1 DELETE http://localhost:5181/api/Appointment/1 - - - 204 - - 88.1514ms
[2023-10-15 16:19:01.475 -05:00 INF] Request starting HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112
[2023-10-15 16:19:01.476 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:19:01.476 -05:00 INF] Route matched with {action = "Get", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Helpers.Pager`1[API.Dtos.AppointmentDto]]] Get(API.Helpers.Params) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:19:01.484 -05:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Appointment` AS `a`
[2023-10-15 16:19:01.488 -05:00 INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`Date`, `a`.`PetId`, `a`.`Reason`, `a`.`VeterinarianId`
FROM `Appointment` AS `a`
LIMIT @__p_1 OFFSET @__p_0
[2023-10-15 16:19:01.489 -05:00 INF] Executing ObjectResult, writing value of type 'API.Helpers.Pager`1[[API.Dtos.AppointmentDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-15 16:19:01.490 -05:00 INF] Executed action API.Controllers.AppointmentController.Get (API) in 13.9977ms
[2023-10-15 16:19:01.491 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:19:01.491 -05:00 INF] Request finished HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112 - 200 - application/json;+charset=utf-8 15.8485ms
[2023-10-15 16:19:05.629 -05:00 INF] Request starting HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112
[2023-10-15 16:19:05.629 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:19:05.629 -05:00 INF] Route matched with {action = "Get", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Helpers.Pager`1[API.Dtos.AppointmentDto]]] Get(API.Helpers.Params) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:19:05.635 -05:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Appointment` AS `a`
[2023-10-15 16:19:05.637 -05:00 INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`Date`, `a`.`PetId`, `a`.`Reason`, `a`.`VeterinarianId`
FROM `Appointment` AS `a`
LIMIT @__p_1 OFFSET @__p_0
[2023-10-15 16:19:05.637 -05:00 INF] Executing ObjectResult, writing value of type 'API.Helpers.Pager`1[[API.Dtos.AppointmentDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-15 16:19:05.637 -05:00 INF] Executed action API.Controllers.AppointmentController.Get (API) in 7.7947ms
[2023-10-15 16:19:05.637 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:19:05.637 -05:00 INF] Request finished HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112 - 200 - application/json;+charset=utf-8 8.9821ms
[2023-10-15 16:19:16.556 -05:00 INF] Request starting HTTP/1.1 DELETE http://localhost:5181/api/Appointment/2 - -
[2023-10-15 16:19:16.557 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Delete (API)'
[2023-10-15 16:19:16.558 -05:00 INF] Route matched with {action = "Delete", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Delete(Int32) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:19:16.563 -05:00 INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`Date`, `a`.`PetId`, `a`.`Reason`, `a`.`VeterinarianId`
FROM `Appointment` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
[2023-10-15 16:19:16.568 -05:00 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Appointment`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
[2023-10-15 16:19:16.569 -05:00 INF] Executing StatusCodeResult, setting HTTP status code 204
[2023-10-15 16:19:16.569 -05:00 INF] Executed action API.Controllers.AppointmentController.Delete (API) in 10.7634ms
[2023-10-15 16:19:16.569 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Delete (API)'
[2023-10-15 16:19:16.569 -05:00 INF] Request finished HTTP/1.1 DELETE http://localhost:5181/api/Appointment/2 - - - 204 - - 13.2914ms
[2023-10-15 16:19:21.431 -05:00 INF] Request starting HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112
[2023-10-15 16:19:21.432 -05:00 INF] Executing endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:19:21.433 -05:00 INF] Route matched with {action = "Get", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Helpers.Pager`1[API.Dtos.AppointmentDto]]] Get(API.Helpers.Params) on controller API.Controllers.AppointmentController (API).
[2023-10-15 16:19:21.438 -05:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Appointment` AS `a`
[2023-10-15 16:19:21.441 -05:00 INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`Date`, `a`.`PetId`, `a`.`Reason`, `a`.`VeterinarianId`
FROM `Appointment` AS `a`
LIMIT @__p_1 OFFSET @__p_0
[2023-10-15 16:19:21.442 -05:00 INF] Executing ObjectResult, writing value of type 'API.Helpers.Pager`1[[API.Dtos.AppointmentDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-15 16:19:21.442 -05:00 INF] Executed action API.Controllers.AppointmentController.Get (API) in 8.5938ms
[2023-10-15 16:19:21.442 -05:00 INF] Executed endpoint 'API.Controllers.AppointmentController.Get (API)'
[2023-10-15 16:19:21.442 -05:00 INF] Request finished HTTP/1.1 GET http://localhost:5181/api/Appointment?pageIndex=1&pageSize=1 application/json 112 - 200 - application/json;+charset=utf-8 11.7571ms
[2023-10-15 16:24:18.439 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88
[2023-10-15 16:24:18.440 -05:00 INF] Executing endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:24:18.443 -05:00 INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RegisterAsync(API.Dtos.RegisterDto) on controller API.Controllers.UserController (API).
[2023-10-15 16:24:18.568 -05:00 INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`email`, `u`.`password`, `u`.`username`
FROM `user` AS `u`
WHERE LOWER(`u`.`username`) = @__ToLower_0
[2023-10-15 16:24:18.576 -05:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`rolName`
FROM `rol` AS `r`
WHERE `r`.`rolName` = 'Employee'
[2023-10-15 16:24:18.578 -05:00 INF] Executed action API.Controllers.UserController.RegisterAsync (API) in 134.9534ms
[2023-10-15 16:24:18.579 -05:00 INF] Executed endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:24:18.612 -05:00 ERR] Sequence contains no elements
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at API.Services.UserService.RegisterAsync(RegisterDto registerDto) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Services\UserService.cs:line 42
   at API.Controllers.UserController.RegisterAsync(RegisterDto model) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Controllers\UserController.cs:line 22
   at lambda_method135(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at API.Helpers.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Helpers\ExceptionMiddleware.cs:line 24
[2023-10-15 16:24:18.616 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88 - 500 - application/json 177.4638ms
[2023-10-15 16:24:46.243 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88
[2023-10-15 16:24:46.245 -05:00 INF] Executing endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:24:46.245 -05:00 INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RegisterAsync(API.Dtos.RegisterDto) on controller API.Controllers.UserController (API).
[2023-10-15 16:24:46.308 -05:00 INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`email`, `u`.`password`, `u`.`username`
FROM `user` AS `u`
WHERE LOWER(`u`.`username`) = @__ToLower_0
[2023-10-15 16:24:46.309 -05:00 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`rolName`
FROM `rol` AS `r`
WHERE `r`.`rolName` = 'Employee'
[2023-10-15 16:24:46.309 -05:00 INF] Executed action API.Controllers.UserController.RegisterAsync (API) in 64.5376ms
[2023-10-15 16:24:46.309 -05:00 INF] Executed endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:24:46.311 -05:00 ERR] Sequence contains no elements
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at API.Services.UserService.RegisterAsync(RegisterDto registerDto) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Services\UserService.cs:line 42
   at API.Controllers.UserController.RegisterAsync(RegisterDto model) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Controllers\UserController.cs:line 22
   at lambda_method135(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at API.Helpers.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Helpers\ExceptionMiddleware.cs:line 24
[2023-10-15 16:24:46.312 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88 - 500 - application/json 69.1475ms
[2023-10-15 16:25:52.610 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88
[2023-10-15 16:25:52.611 -05:00 INF] Executing endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:25:52.611 -05:00 INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RegisterAsync(API.Dtos.RegisterDto) on controller API.Controllers.UserController (API).
[2023-10-15 16:25:52.676 -05:00 INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`email`, `u`.`password`, `u`.`username`
FROM `user` AS `u`
WHERE LOWER(`u`.`username`) = @__ToLower_0
[2023-10-15 16:25:52.677 -05:00 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`rolName`
FROM `rol` AS `r`
WHERE `r`.`rolName` = 'Employee'
[2023-10-15 16:25:52.677 -05:00 INF] Executed action API.Controllers.UserController.RegisterAsync (API) in 65.7269ms
[2023-10-15 16:25:52.677 -05:00 INF] Executed endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:25:52.678 -05:00 ERR] Sequence contains no elements
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at API.Services.UserService.RegisterAsync(RegisterDto registerDto) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Services\UserService.cs:line 42
   at API.Controllers.UserController.RegisterAsync(RegisterDto model) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Controllers\UserController.cs:line 22
   at lambda_method135(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at API.Helpers.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Helpers\ExceptionMiddleware.cs:line 24
[2023-10-15 16:25:52.679 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88 - 500 - application/json 69.2697ms
[2023-10-15 16:28:37.859 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88
[2023-10-15 16:28:37.860 -05:00 INF] Executing endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:28:37.860 -05:00 INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RegisterAsync(API.Dtos.RegisterDto) on controller API.Controllers.UserController (API).
[2023-10-15 16:28:37.928 -05:00 INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`email`, `u`.`password`, `u`.`username`
FROM `user` AS `u`
WHERE LOWER(`u`.`username`) = @__ToLower_0
[2023-10-15 16:28:37.929 -05:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`rolName`
FROM `rol` AS `r`
WHERE `r`.`rolName` = 'Employee'
[2023-10-15 16:28:37.930 -05:00 INF] Executed action API.Controllers.UserController.RegisterAsync (API) in 69.6389ms
[2023-10-15 16:28:37.930 -05:00 INF] Executed endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:28:37.933 -05:00 ERR] Sequence contains no elements
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at API.Services.UserService.RegisterAsync(RegisterDto registerDto) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Services\UserService.cs:line 42
   at API.Controllers.UserController.RegisterAsync(RegisterDto model) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Controllers\UserController.cs:line 22
   at lambda_method135(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at API.Helpers.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\jhose\OneDrive\Escritorio\PetShop\API\Helpers\ExceptionMiddleware.cs:line 24
[2023-10-15 16:28:37.934 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88 - 500 - application/json 74.8720ms
[2023-10-15 16:29:43.878 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88
[2023-10-15 16:29:43.879 -05:00 INF] Executing endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:29:43.879 -05:00 INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RegisterAsync(API.Dtos.RegisterDto) on controller API.Controllers.UserController (API).
[2023-10-15 16:29:43.947 -05:00 INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`email`, `u`.`password`, `u`.`username`
FROM `user` AS `u`
WHERE LOWER(`u`.`username`) = @__ToLower_0
[2023-10-15 16:29:43.949 -05:00 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`rolName`
FROM `rol` AS `r`
WHERE `r`.`rolName` = 'Employee'
[2023-10-15 16:29:44.025 -05:00 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `user` (`email`, `password`, `username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `user`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
[2023-10-15 16:29:44.037 -05:00 INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `userRol` (`RolId`, `UserId`)
VALUES (@p3, @p4);
[2023-10-15 16:29:44.040 -05:00 INF] Executing OkObjectResult, writing value of type 'System.String'.
[2023-10-15 16:29:44.040 -05:00 INF] Executed action API.Controllers.UserController.RegisterAsync (API) in 161.072ms
[2023-10-15 16:29:44.040 -05:00 INF] Executed endpoint 'API.Controllers.UserController.RegisterAsync (API)'
[2023-10-15 16:29:44.040 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/User/register application/json 88 - 200 - text/plain;+charset=utf-8 162.5654ms
[2023-10-15 16:31:33.001 -05:00 INF] Request starting HTTP/1.1 POST http://localhost:5181/api/User/addrole application/json 81
[2023-10-15 16:31:33.004 -05:00 INF] Executing endpoint 'API.Controllers.UserController.AddRoleAsync (API)'
[2023-10-15 16:31:33.008 -05:00 INF] Route matched with {action = "AddRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRoleAsync(API.Dtos.AddRoleDto) on controller API.Controllers.UserController (API).
[2023-10-15 16:31:33.093 -05:00 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2023-10-15 16:31:33.104 -05:00 INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`email`, `t`.`password`, `t`.`username`, `t0`.`UserId`, `t0`.`RolId`, `t0`.`Id`, `t0`.`rolName`, `r0`.`Id`, `r0`.`Created`, `r0`.`Expires`, `r0`.`Revoked`, `r0`.`Token`, `r0`.`UserId`
FROM (
    SELECT `u`.`Id`, `u`.`email`, `u`.`password`, `u`.`username`
    FROM `user` AS `u`
    WHERE LOWER(`u`.`username`) = @__ToLower_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `u0`.`UserId`, `u0`.`RolId`, `r`.`Id`, `r`.`rolName`
    FROM `userRol` AS `u0`
    INNER JOIN `rol` AS `r` ON `u0`.`RolId` = `r`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
LEFT JOIN `RefreshToken` AS `r0` ON `t`.`Id` = `r0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`UserId`, `t0`.`RolId`, `t0`.`Id`
[2023-10-15 16:31:33.193 -05:00 INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`rolName`
FROM `rol` AS `r`
WHERE LOWER(`r`.`rolName`) = @__ToLower_0
[2023-10-15 16:31:33.200 -05:00 INF] Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `user` SET `email` = @p0, `password` = @p1, `username` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();

INSERT INTO `userRol` (`RolId`, `UserId`)
VALUES (@p4, @p5);
[2023-10-15 16:31:33.204 -05:00 INF] Executing OkObjectResult, writing value of type 'System.String'.
[2023-10-15 16:31:33.205 -05:00 INF] Executed action API.Controllers.UserController.AddRoleAsync (API) in 195.909ms
[2023-10-15 16:31:33.205 -05:00 INF] Executed endpoint 'API.Controllers.UserController.AddRoleAsync (API)'
[2023-10-15 16:31:33.205 -05:00 INF] Request finished HTTP/1.1 POST http://localhost:5181/api/User/addrole application/json 81 - 200 - text/plain;+charset=utf-8 203.4114ms
[2023-10-15 16:51:55.341 -05:00 INF] Application is shutting down...
